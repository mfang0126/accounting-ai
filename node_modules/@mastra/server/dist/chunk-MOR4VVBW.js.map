{"version":3,"sources":["../src/server/schemas/version-common.ts"],"names":[],"mappings":";;;AAUO,IAAM,oBAAA,GAAuB,EAAE,MAAA,CAAO;AAAA,EAC3C,KAAA,EAAO,EAAE,IAAA,CAAK,CAAC,iBAAiB,WAAW,CAAC,EAAE,QAAA,EAAS;AAAA,EACvD,SAAA,EAAW,EAAE,IAAA,CAAK,CAAC,OAAO,MAAM,CAAC,EAAE,QAAA;AACrC,CAAC,CAAA;AAKM,IAAM,uBAAA,GAA0B,0BAAA,CAA2B,EAAE,CAAA,CAAE,MAAA,CAAO;AAAA,EAC3E,OAAA,EAAS,qBAAqB,QAAA;AAChC,CAAC;AAKM,IAAM,0BAAA,GAA6B,EAAE,MAAA,CAAO;AAAA,EACjD,IAAA,EAAM,CAAA,CAAE,MAAA,EAAO,CAAE,SAAS,mCAAmC,CAAA;AAAA,EAC7D,EAAA,EAAI,CAAA,CAAE,MAAA,EAAO,CAAE,SAAS,iCAAiC;AAC3D,CAAC;AASM,IAAM,uBAAA,GAA0B,EAAE,MAAA,CAAO;AAAA,EAC9C,aAAA,EAAe,CAAA,CAAE,MAAA,EAAO,CAAE,GAAA,CAAI,GAAG,CAAA,CAAE,QAAA,EAAS,CAAE,QAAA,CAAS,yCAAyC;AAClG,CAAC;AASM,IAAM,6BAAA,GAAgC,EAAE,MAAA,CAAO;AAAA,EACpD,OAAA,EAAS,EAAE,OAAA,EAAQ;AAAA,EACnB,OAAA,EAAS,EAAE,MAAA,EAAO;AAAA,EAClB,eAAA,EAAiB,EAAE,MAAA;AACrB,CAAC;AAKM,IAAM,2BAAA,GAA8B,EAAE,MAAA,CAAO;AAAA,EAClD,OAAA,EAAS,EAAE,OAAA,EAAQ;AAAA,EACnB,OAAA,EAAS,EAAE,MAAA;AACb,CAAC;AAKM,IAAM,sBAAA,GAAyB,EAAE,MAAA,CAAO;AAAA,EAC7C,KAAA,EAAO,CAAA,CAAE,MAAA,EAAO,CAAE,SAAS,6BAA6B,CAAA;AAAA,EACxD,aAAA,EAAe,CAAA,CAAE,OAAA,EAAQ,CAAE,SAAS,iCAAiC,CAAA;AAAA,EACrE,YAAA,EAAc,CAAA,CAAE,OAAA,EAAQ,CAAE,SAAS,+BAA+B;AACpE,CAAC,CAAA;AAKM,SAAS,iCAAyD,aAAA,EAAkB;AACzF,EAAA,OAAO,qBAAqB,MAAA,CAAO;AAAA,IACjC,QAAA,EAAU,CAAA,CAAE,KAAA,CAAM,aAAa;AAAA,GAChC,CAAA;AACH;AAKO,SAAS,oCAA4D,aAAA,EAAkB;AAC5F,EAAA,OAAO,EAAE,MAAA,CAAO;AAAA,IACd,OAAO,CAAA,CAAE,KAAA,CAAM,sBAAsB,CAAA,CAAE,SAAS,sCAAsC,CAAA;AAAA,IACtF,WAAA,EAAa,aAAA,CAAc,QAAA,CAAS,oBAAoB,CAAA;AAAA,IACxD,SAAA,EAAW,aAAA,CAAc,QAAA,CAAS,oBAAoB;AAAA,GACvD,CAAA;AACH","file":"chunk-MOR4VVBW.js","sourcesContent":["import z from 'zod';\nimport { paginationInfoSchema, createPagePaginationSchema } from './common';\n\n// ============================================================================\n// Query Parameter Schemas (shared across all version endpoints)\n// ============================================================================\n\n/**\n * Version order by configuration (shared)\n */\nexport const versionOrderBySchema = z.object({\n  field: z.enum(['versionNumber', 'createdAt']).optional(),\n  direction: z.enum(['ASC', 'DESC']).optional(),\n});\n\n/**\n * List versions query params (shared)\n */\nexport const listVersionsQuerySchema = createPagePaginationSchema(20).extend({\n  orderBy: versionOrderBySchema.optional(),\n});\n\n/**\n * Compare versions query params (shared)\n */\nexport const compareVersionsQuerySchema = z.object({\n  from: z.string().describe('Version ID (UUID) to compare from'),\n  to: z.string().describe('Version ID (UUID) to compare to'),\n});\n\n// ============================================================================\n// Body Parameter Schemas (shared)\n// ============================================================================\n\n/**\n * Create version body (shared)\n */\nexport const createVersionBodySchema = z.object({\n  changeMessage: z.string().max(500).optional().describe('Optional message describing the changes'),\n});\n\n// ============================================================================\n// Response Schemas (shared)\n// ============================================================================\n\n/**\n * Activate version response (shared)\n */\nexport const activateVersionResponseSchema = z.object({\n  success: z.boolean(),\n  message: z.string(),\n  activeVersionId: z.string(),\n});\n\n/**\n * Delete version response (shared)\n */\nexport const deleteVersionResponseSchema = z.object({\n  success: z.boolean(),\n  message: z.string(),\n});\n\n/**\n * Single diff entry for version comparison (shared)\n */\nexport const versionDiffEntrySchema = z.object({\n  field: z.string().describe('The field path that changed'),\n  previousValue: z.unknown().describe('The value in the \"from\" version'),\n  currentValue: z.unknown().describe('The value in the \"to\" version'),\n});\n\n/**\n * Helper to create a list versions response schema for a domain-specific version schema.\n */\nexport function createListVersionsResponseSchema<T extends z.ZodTypeAny>(versionSchema: T) {\n  return paginationInfoSchema.extend({\n    versions: z.array(versionSchema),\n  });\n}\n\n/**\n * Helper to create a compare versions response schema for a domain-specific version schema.\n */\nexport function createCompareVersionsResponseSchema<T extends z.ZodTypeAny>(versionSchema: T) {\n  return z.object({\n    diffs: z.array(versionDiffEntrySchema).describe('List of differences between versions'),\n    fromVersion: versionSchema.describe('The source version'),\n    toVersion: versionSchema.describe('The target version'),\n  });\n}\n"]}
{"version":3,"sources":["../src/server/schemas/rule-group.ts"],"names":["z"],"mappings":";;;;;;;;;AAQO,IAAM,UAAA,GAAaA,mBAAE,MAAA,CAAO;AAAA,EACjC,KAAA,EAAOA,mBAAE,MAAA,EAAO;AAAA,EAChB,QAAA,EAAUA,mBAAE,IAAA,CAAK;AAAA,IACf,QAAA;AAAA,IACA,YAAA;AAAA,IACA,UAAA;AAAA,IACA,cAAA;AAAA,IACA,cAAA;AAAA,IACA,WAAA;AAAA,IACA,uBAAA;AAAA,IACA,oBAAA;AAAA,IACA,IAAA;AAAA,IACA,QAAA;AAAA,IACA,QAAA;AAAA,IACA;AAAA,GACD,CAAA;AAAA,EACD,KAAA,EAAOA,mBAAE,OAAA;AACX,CAAC,CAAA;AAED,IAAM,eAAA,GAAkBA,mBAAE,MAAA,CAAO;AAAA,EAC/B,UAAUA,kBAAA,CAAE,IAAA,CAAK,CAAC,KAAA,EAAO,IAAI,CAAC,CAAA;AAAA,EAC9B,UAAA,EAAYA,kBAAA,CAAE,KAAA,CAAM,UAAU;AAChC,CAAC,CAAA;AAED,IAAM,eAAA,GAAkBA,mBAAE,MAAA,CAAO;AAAA,EAC/B,UAAUA,kBAAA,CAAE,IAAA,CAAK,CAAC,KAAA,EAAO,IAAI,CAAC,CAAA;AAAA,EAC9B,UAAA,EAAYA,mBAAE,KAAA,CAAMA,kBAAA,CAAE,MAAM,CAAC,UAAA,EAAY,eAAe,CAAC,CAAC;AAC5D,CAAC,CAAA;AAEM,IAAM,eAAA,GAAkBA,mBAAE,MAAA,CAAO;AAAA,EACtC,UAAUA,kBAAA,CAAE,IAAA,CAAK,CAAC,KAAA,EAAO,IAAI,CAAC,CAAA;AAAA,EAC9B,UAAA,EAAYA,mBAAE,KAAA,CAAMA,kBAAA,CAAE,MAAM,CAAC,UAAA,EAAY,eAAe,CAAC,CAAC;AAC5D,CAAC","file":"chunk-A7CIMRJQ.cjs","sourcesContent":["import z from 'zod';\n\n/**\n * Rule and RuleGroup schemas for conditional prompt block evaluation.\n *\n * Uses a fixed nesting depth (3 levels) to avoid infinite recursion\n * when converting to JSON Schema / OpenAPI.\n */\nexport const ruleSchema = z.object({\n  field: z.string(),\n  operator: z.enum([\n    'equals',\n    'not_equals',\n    'contains',\n    'not_contains',\n    'greater_than',\n    'less_than',\n    'greater_than_or_equal',\n    'less_than_or_equal',\n    'in',\n    'not_in',\n    'exists',\n    'not_exists',\n  ]),\n  value: z.unknown(),\n});\n\nconst ruleGroupDepth2 = z.object({\n  operator: z.enum(['AND', 'OR']),\n  conditions: z.array(ruleSchema),\n});\n\nconst ruleGroupDepth1 = z.object({\n  operator: z.enum(['AND', 'OR']),\n  conditions: z.array(z.union([ruleSchema, ruleGroupDepth2])),\n});\n\nexport const ruleGroupSchema = z.object({\n  operator: z.enum(['AND', 'OR']),\n  conditions: z.array(z.union([ruleSchema, ruleGroupDepth1])),\n});\n"]}